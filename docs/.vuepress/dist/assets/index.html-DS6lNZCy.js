import{_ as n,c as s,o as e,a}from"./app-u5Fl-cS_.js";const i="/assets/image1-CULuLL8E.png",t="/assets/image2-fmPk08QB.png",l="/assets/image3-BGqoaZGS.png",o="data:image/png;base64,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",c={},p=a(`<h1 id="docker" tabindex="-1"><a class="header-anchor" href="#docker"><span>Docker</span></a></h1><p>For this, we presume you already have a device that will function as your server and uses Linux as operating system. We recommend <a href="https://ubuntu.com/download/desktop" target="_blank" rel="noopener noreferrer">Ubuntu&#39;s latest LTS version</a>.</p><p>Docker is an application that simplifies the process of managing application processes in containers. Containers let you run your applications in resource-isolated processes. They’re similar to virtual machines, but containers are more portable, more resource-friendly, and more dependent on the host operating system.</p><p>For applications depending on several services, orchestrating all the containers to start up, communicate, and shut down together can quickly become unwieldy. Docker Compose is a tool that allows you to run multi-container application environments based on definitions set in a YAML file. It uses service definitions to build fully customizable environments with multiple containers that can share networks and data volumes.</p><h2 id="installing-docker-docker-compose" tabindex="-1"><a class="header-anchor" href="#installing-docker-docker-compose"><span>Installing Docker &amp; Docker Compose</span></a></h2><h3 id="installing-docker" tabindex="-1"><a class="header-anchor" href="#installing-docker"><span>Installing Docker</span></a></h3><p>Update your list of packages &amp; install a few prerequisite packages which let <code>apt</code> use packages over HTTPS:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">sudo</span> <span class="token function">apt</span> update</span>
<span class="line"><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> apt-transport-https ca-certificates <span class="token function">curl</span> software-properties-common</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>Add the GPG key for the official Docker repository to your system and add it to your APT sources:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">curl</span> <span class="token parameter variable">-fsSL</span> https://download.docker.com/linux/ubuntu/gpg <span class="token operator">|</span> <span class="token function">sudo</span> gpg <span class="token parameter variable">--dearmor</span> <span class="token parameter variable">-o</span> /usr/share/keyrings/docker-archive-keyring.gpg</span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&quot;deb [arch=<span class="token variable"><span class="token variable">$(</span>dpkg --print-architecture<span class="token variable">)</span></span> signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu <span class="token variable"><span class="token variable">$(</span>lsb_release <span class="token parameter variable">-cs</span><span class="token variable">)</span></span> stable&quot;</span> <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">tee</span> /etc/apt/sources.list.d/docker.list <span class="token operator">&gt;</span> /dev/null</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>Update your list of packages again &amp; make sure you are about to install from the Docker repo instead of the default Ubuntu repo:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">sudo</span> <span class="token function">apt</span> update</span>
<span class="line"><span class="token function">apt-cache</span> policy docker-ce</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+i+`" alt="image"></p><p>Install Docker &amp; check that it&#39;s running:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> docker-ce</span>
<span class="line"><span class="token function">sudo</span> systemctl status <span class="token function">docker</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+t+`" alt="image"></p><h3 id="install-docker-compose" tabindex="-1"><a class="header-anchor" href="#install-docker-compose"><span>Install Docker Compose</span></a></h3><p>Download Docker Compose:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">mkdir</span> <span class="token parameter variable">-p</span> ~/.docker/cli-plugins/</span>
<span class="line"><span class="token function">curl</span> <span class="token parameter variable">-SL</span> https://github.com/docker/compose/releases/download/v2.3.3/docker-compose-linux-x86_64 <span class="token parameter variable">-o</span> ~/.docker/cli-plugins/docker-compose</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>Next, set the correct permissions so that the Docker Compose command is executable:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">chmod</span> +x ~/.docker/cli-plugins/docker-compose</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>To verify that the installation was successful, you can run:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> compose version</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>You should get the version that is installed.</p><h3 id="usefull-commands-for-docker-compose" tabindex="-1"><a class="header-anchor" href="#usefull-commands-for-docker-compose"><span>Usefull commands for Docker Compose</span></a></h3><ul><li>To create and start containers: <code>docker-compose up</code></li><li>Start services with detached mode (services keep running until stopped): <code>docker-compose -d up</code></li><li>Get a list of all images: <code>docker-compose images</code></li><li>Get a list of all containers: <code>docker-compose ps</code></li><li>Stop all containers and remove images, volumes: <code>docker-compose down</code></li></ul><h2 id="example-of-a-project-run-in-docker-compose" tabindex="-1"><a class="header-anchor" href="#example-of-a-project-run-in-docker-compose"><span>Example of a project run in Docker Compose</span></a></h2><p>Let&#39;s say you have a project called <code>FieldMonitor</code> with a <em>Express.js</em> backend in the folder <code>field-api</code> and a <em>Vue</em> frontend in the folder <code>vue-monitor</code>.</p><p>Without Docker Compose you would start the project as follows:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">// Start backend-api</span>
<span class="line"><span class="token builtin class-name">cd</span> field-api</span>
<span class="line"><span class="token function">npm</span> <span class="token function">install</span></span>
<span class="line"><span class="token function">npm</span> run dev</span>
<span class="line"></span>
<span class="line">// Start frontend</span>
<span class="line"><span class="token builtin class-name">cd</span> vue-monitor</span>
<span class="line"><span class="token function">npm</span> <span class="token function">install</span></span>
<span class="line"><span class="token function">npm</span> run dev</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="backend-dockerfile" tabindex="-1"><a class="header-anchor" href="#backend-dockerfile"><span>Backend Dockerfile</span></a></h3><p>With Docker Compose installed, you need two seperate docker files for each environment. Let&#39;s name these Dockerfiles as <code>Dockerfile-dev</code>.</p><div class="language-docker line-numbers-mode" data-highlighter="prismjs" data-ext="docker" data-title="docker"><pre><code><span class="line"><span class="token instruction"><span class="token keyword">FROM</span> node:10</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">WORKDIR</span> /usr/src/app/field-api</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">COPY</span> package*.json ./</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">RUN</span> npm install</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">EXPOSE</span> 3080</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">CMD</span> [<span class="token string">&quot;npm&quot;</span>, <span class="token string">&quot;run&quot;</span>, <span class="token string">&quot;dev&quot;</span>]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol><li>We are starting from the base image <code>node:10</code>.</li><li>Set the working directory as <code>/usr/src/app/field-api</code>.</li><li>Copy the <code>package.json</code> to install all the dependencies.</li><li>Install all the dependencies</li><li>We need to put this expose command for the documentation purpose so that other developers know this service runs on port <code>3080</code>.</li><li>Finally, we run the command <code>npm run dev</code></li></ol><h3 id="frontend-dockerfile" tabindex="-1"><a class="header-anchor" href="#frontend-dockerfile"><span>Frontend Dockerfile</span></a></h3><div class="language-docker line-numbers-mode" data-highlighter="prismjs" data-ext="docker" data-title="docker"><pre><code><span class="line"><span class="token instruction"><span class="token keyword">FROM</span> node:10</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">WORKDIR</span> /usr/src/app/vue-monitor</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">COPY</span> package*.json ./</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">RUN</span> npm install</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">EXPOSE</span> 8080</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">CMD</span> [<span class="token string">&quot;npm&quot;</span>, <span class="token string">&quot;run&quot;</span>, <span class="token string">&quot;dev&quot;</span>]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol><li>We are starting from the base image <code>node:10</code>.</li><li>Set the working directory as <code>/usr/src/app/vue-monitor</code></li><li>Copy the <code>package.json</code> to install all the dependencies</li><li>Install all the dependencies</li><li>Exposing the port <code>8080</code></li><li>Finally, we run the command <code>npm run dev</code></li></ol><h3 id="start-commands-in-package-json" tabindex="-1"><a class="header-anchor" href="#start-commands-in-package-json"><span>Start commands in Package.json</span></a></h3><p>In the above Dockerfiles, we are running commands with npm on instantiating the containers. Let’s see what are those commands in each <code>package.json</code> files.</p><p>For the backend, we are running this command <code>npm run dev</code> which in turn runs this command <code>nodemon src/server.js</code>. Since it’s a development environment we are using nodemon which listens for the changes in files and restart the server automatically.</p><p><img src="`+l+'" alt="image"></p><p>For the frontend, we are running this command <code>npm run dev</code> which in turn runs this command <code>vite</code> We are using Vite here to serve the application on port 8080.</p><p><img src="'+o+`" alt="image"></p><h3 id="docker-compose-file" tabindex="-1"><a class="header-anchor" href="#docker-compose-file"><span>Docker Compose file</span></a></h3><p>Finally, let’s look at the docker-compose file here. Since we need to run Vue on port <strong>8080</strong> and express API on port <strong>3080</strong> we need to define two services: nodejs-server and vue-ui.</p><div class="language-yaml line-numbers-mode" data-highlighter="prismjs" data-ext="yml" data-title="yml"><pre><code><span class="line"><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">&#39;3&#39;</span></span>
<span class="line"><span class="token key atrule">services</span><span class="token punctuation">:</span></span>
<span class="line">  <span class="token key atrule">nodejs-server</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token key atrule">build</span><span class="token punctuation">:</span></span>
<span class="line">      <span class="token key atrule">context</span><span class="token punctuation">:</span> ./field<span class="token punctuation">-</span>api</span>
<span class="line">      <span class="token key atrule">dockerfile</span><span class="token punctuation">:</span> Dockerfile<span class="token punctuation">-</span>dev</span>
<span class="line">    <span class="token key atrule">ports</span><span class="token punctuation">:</span></span>
<span class="line">      <span class="token punctuation">-</span> <span class="token string">&quot;3080:3080&quot;</span></span>
<span class="line">    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> field<span class="token punctuation">-</span>api</span>
<span class="line">    <span class="token key atrule">volumes</span><span class="token punctuation">:</span></span>
<span class="line">       <span class="token punctuation">-</span> ./field<span class="token punctuation">-</span>api<span class="token punctuation">:</span>/usr/src/app/field<span class="token punctuation">-</span>api</span>
<span class="line">       <span class="token punctuation">-</span> /usr/src/app/field<span class="token punctuation">-</span>api/node_modules</span>
<span class="line">  <span class="token key atrule">vue-ui</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token key atrule">build</span><span class="token punctuation">:</span></span>
<span class="line">      <span class="token key atrule">context</span><span class="token punctuation">:</span> ./vue<span class="token punctuation">-</span>monitor</span>
<span class="line">      <span class="token key atrule">dockerfile</span><span class="token punctuation">:</span> Dockerfile<span class="token punctuation">-</span>dev</span>
<span class="line">    <span class="token key atrule">ports</span><span class="token punctuation">:</span></span>
<span class="line">      <span class="token punctuation">-</span> <span class="token string">&quot;8080:8080&quot;</span></span>
<span class="line">    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> vue<span class="token punctuation">-</span>monitor</span>
<span class="line">    <span class="token key atrule">volumes</span><span class="token punctuation">:</span></span>
<span class="line">       <span class="token punctuation">-</span> ./my<span class="token punctuation">-</span>app<span class="token punctuation">:</span>/usr/src/app/vue<span class="token punctuation">-</span>monitor</span>
<span class="line">       <span class="token punctuation">-</span> /usr/src/app/vue<span class="token punctuation">-</span>monitor/node_modules</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>If you look at the above file we defined two services each has its own docker file. The most important thing here is the volumes part we need to mount the whole part of the application and node_modules folder as well. We need to mount the node_modules folder because the volume is not mounted during the build.</p><h3 id="run-in-development" tabindex="-1"><a class="header-anchor" href="#run-in-development"><span>Run in development</span></a></h3><p>Let’s run the following steps to run the whole setup in the development mode</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">// build with no cache</span>
<span class="line"><span class="token function">docker-compose</span> build --no-cache</span>
<span class="line">// start the services</span>
<span class="line"><span class="token function">docker-compose</span> up</span>
<span class="line">// list the services</span>
<span class="line"><span class="token function">docker-compose</span> <span class="token function">ps</span></span>
<span class="line">// list the containers</span>
<span class="line"><span class="token function">docker</span> <span class="token function">ps</span></span>
<span class="line">// stop services</span>
<span class="line"><span class="token function">docker-compose</span> stop</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="communication-between-services" tabindex="-1"><a class="header-anchor" href="#communication-between-services"><span>Communication between services</span></a></h3><p>Now the services are running on the default network and these services should be reachable by the service name. By default Compose sets up a single network for your app. Each container for a service joins the default network and is both reachable by other containers on that network, and discoverable by them at a hostname identical to the container name.</p><p>We should have the service name in the <code>vue.config.js</code> instead of the localhost.</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token literal-property property">proxy</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token string-property property">&#39;^/field-api&#39;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">          <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">&#39;http://field-api:3080&#39;</span><span class="token punctuation">,</span></span>
<span class="line">          <span class="token literal-property property">changeOrigin</span><span class="token operator">:</span> <span class="token boolean">true</span></span>
<span class="line">        <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="start-your-project" tabindex="-1"><a class="header-anchor" href="#start-your-project"><span>Start your project</span></a></h3><p>To start your project just use <code>docker-compose up</code> for temperary use or <code>docker-compose -d up</code> to run the services until you kill them.</p>`,56),r=[p];function d(u,m){return e(),s("div",null,r)}const v=n(c,[["render",d],["__file","index.html.vue"]]),h=JSON.parse('{"path":"/81_docker_old/","title":"Docker","lang":"en-US","frontmatter":{},"headers":[{"level":2,"title":"Installing Docker & Docker Compose","slug":"installing-docker-docker-compose","link":"#installing-docker-docker-compose","children":[{"level":3,"title":"Installing Docker","slug":"installing-docker","link":"#installing-docker","children":[]},{"level":3,"title":"Install Docker Compose","slug":"install-docker-compose","link":"#install-docker-compose","children":[]},{"level":3,"title":"Usefull commands for Docker Compose","slug":"usefull-commands-for-docker-compose","link":"#usefull-commands-for-docker-compose","children":[]}]},{"level":2,"title":"Example of a project  run in Docker Compose","slug":"example-of-a-project-run-in-docker-compose","link":"#example-of-a-project-run-in-docker-compose","children":[{"level":3,"title":"Backend Dockerfile","slug":"backend-dockerfile","link":"#backend-dockerfile","children":[]},{"level":3,"title":"Frontend Dockerfile","slug":"frontend-dockerfile","link":"#frontend-dockerfile","children":[]},{"level":3,"title":"Start commands in Package.json","slug":"start-commands-in-package-json","link":"#start-commands-in-package-json","children":[]},{"level":3,"title":"Docker Compose file","slug":"docker-compose-file","link":"#docker-compose-file","children":[]},{"level":3,"title":"Run in development","slug":"run-in-development","link":"#run-in-development","children":[]},{"level":3,"title":"Communication between services","slug":"communication-between-services","link":"#communication-between-services","children":[]},{"level":3,"title":"Start your project","slug":"start-your-project","link":"#start-your-project","children":[]}]}],"git":{"updatedTime":1686415611000,"contributors":[{"name":"Ronny Mees","email":"ronny.mees@vives.be","commits":1}]},"filePathRelative":"81_docker_old/README.md"}');export{v as comp,h as data};
